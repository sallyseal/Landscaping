{% extends 'plots/base.html' %}

{% block content %}

{% load static %}

<div class="w3-center w3-padding">
  <h4 class="header1-dark"><b>3D EPIGENETIC LANDSCAPE OF {{ gene1.gene_id }} & {{ gene2.gene_id }}</b></h4>

</div>

<div class="w4-container" style="height: 600px;" id="3D"><!-- Plotly chart will be drawn inside this DIV --></div>
  <script>
  Z = JSON.parse('{{ Z | escapejs }}')

  var data = [{
         z: Z,
         type: 'surface',

        // colorscale: [[0, 'rgb(2,35,50)'], [0.25, 'rgb(3,108,114)'], [0.45, 'rgb(39,148,115)'], [0.65, 'rgb(74,149,64)'], [0.85, 'rgb(145,192,60)'], [1, 'rgb(245,241,72)']],
        colorscale: [[0, 'rgb(1,18,25)'], [0.14, 'rgb(2,35,50)'], [0.28, 'rgb(3,108,114)'], [0.42, 'rgb(39,148,115)'], [0.56, 'rgb(74,149,64)'], [0.7, 'rgb(145,192,60)'], [0.84, 'rgb(245,241,72)'], [1, 'rgb(250,248,164)']],
      }];

var layout = {

margin: {
  l: 10,
  r: 10,
  b: 30,
  t: 30,
}
};
Plotly.newPlot('3D', data, layout);
  </script>

  <div class="w3-row w3-padding header1-dark">
    <div class="w3-half w3-container">
      <button class="accordion"><b>INTERPRETING THE LANDSCAPE</b></button>
      <div class="panel">
        <p class="w3-large paragraph-d" style="text-align:justify">The potential landscape is calculated by computing the negative logarithm of the stead-state probability distribution. Consequently, the lowest points on the landscape correspond to basins of attraction and are representitive of where a cell is likely to end up as it traverses the landscape.</p>
      </div>
    </div>
    <div class="w3-half w3-container">
      <button class="accordion"><b>SUMMARY OF GENES</b></button>
      <div class="panel">
        <p class="w3-large paragraph-d" style="text-align:justify"><b>{{ gene1.gene_id }}: </b>{{ gene1.summary }}</p>
        <p class="w3-large paragraph-d" style="text-align:justify"><b>{{ gene2.gene_id }}: </b>{{ gene2.summary }}</p>
      </div>
    </div>
  </div>
  <br>

  <!-- <button class="accordion">INTERPRETING THE LANDSCAPE</button>
  <div class="panel">
    <p class="w3-large paragraph-d" style="text-align:justify">dfd</p>
    <p class="w3-large paragraph-d" style="text-align:justify">dfsd</p>
  </div> -->

  <!-- <button class="accordion">GENES REPRESENTED IN THIS LANDSCAPE</button>
  <div class="panel">
    <li>{{ gene1.gene_id}}</li>
    <li>{{ gene2.gene_id}}</li>
  </div> -->

  <!-- <button class="accordion">SUMMARY OF GENES</button>
  <div class="panel">
    <p class="w3-large paragraph-d" style="text-align:justify"><b>{{ gene1.gene_id }}: </b>{{ gene1.summary }}</p>
    <p class="w3-large paragraph-d" style="text-align:justify"><b>{{ gene2.gene_id }}: </b>{{ gene2.summary }}</p>
  </div> -->

  <!-- <div class="w3-row w3-padding header1-light">
    <div class="w3-half w3-container">
      <h4 class="header1-light"><b>INTERPRETING THE LANDSCAPE</b></h4>
      <p class="w3-large paragraph-l" style="text-align:justify"></p>
      <p class="w3-large paragraph-l" style="text-align:justify"></p>
    </div>
    <div class="w3-half w3-container">
      <h4 class="header1-light"><b>GENE PAIR REPRESENTED IN THIS LANDSCAPE</b></h4>

      <p class="w3-large paragraph-l" style="text-align:justify"><b>{{ gene1.gene_id }}: </b>{{ gene1.summary }}</p>
      <p class="w3-large paragraph-l" style="text-align:justify"><b>{{ gene2.gene_id }}: </b>{{ gene2.summary }}</p>

    </div>
  </div>
  <br> -->

<!-- <div class="header1-light w3-row w3-center">
  <h4 class="header1-light"><b>EPIGENETIC LANDSCAPE INTERPRETATION</b></h4>
  <p class="w3-large paragraph-l">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
  <p class="w3-large paragraph-l">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum..</p>
</div>
<br> -->

<!-- <div class="w3-center w3-padding">
  <h4 class="header1-dark"><b>2D EPIGENETIC LANDSCAPE</b></h4>
</div>

<div class="w4-container" style="width: 60%;" id="myDiv"><!-- Plotly chart will be drawn inside this DIV -->
  <script>
  Z = JSON.parse('{{ Z | escapejs }}')
  console.log(Z)
  var data = [ {
      z: Z,
      type: 'contour',
      // colorscale: [[0, 'rgb(184,237,237)'], [0.25, 'rgb(140,214,211)'], [0.45, 'rgb(105,173,171)'], [0.65, 'rgb(70,133,131)'], [0.85, 'rgb(35,92,91)'], [1, 'rgb(0,51,51)']]
      // colorscale: [[0, 'rgb(178,219,213)'], [0.25, 'rgb(151,195,192)'], [0.45, 'rgb(124,170,171)'], [0.65, 'rgb(97,146,151)'], [0.85, 'rgb(70,121,130)'], [1, 'rgb(0,51,51)']]
      // colorscale: [[0, 'rgb(22,35,50)'], [0.25, 'rgb(21,149,174)'], [0.45, 'rgb(48,149,119)'], [0.65, 'rgb(74,149,64)'], [0.85, 'rgb(145,192,60)'], [1, 'rgb(245,241,72)']],
      // colorscale: [[0, 'rgb(23,37,42)'], [0.25, 'rgb(70,121,130)'], [0.45, 'rgb(97,146,151)'], [0.65, 'rgb(124,170,171)'], [0.85, 'rgb(151,195,192)'], [1, 'rgb(178,219,213)']],
      colorscale: [[0, 'rgb(1,18,25)'], [0.14, 'rgb(2,35,50)'], [0.28, 'rgb(3,108,114)'], [0.42, 'rgb(39,148,115)'], [0.56, 'rgb(74,149,64)'], [0.7, 'rgb(145,192,60)'], [0.84, 'rgb(245,241,72)'], [1, 'rgb(250,248,164)']],
      contours: {
        coloring: 'heatmap',
        showlabels: true,
      }
  }
];

var layout = {
// title: 'Landscape Plot of X and Y'
}

Plotly.newPlot('myDiv', data, layout);
  </script>


<!-- Footer -->
<footer class="w3-container w3-theme-d6 w3-padding-16 w3-center">
  <div class="w3-padding-32">
    <a href="/plots/contact/"> <button class="w3-btn w3-large button1 w3-hover-light-grey" onclick="document.getElementById('id01').style.display='block'" style="font-weight:400;">NEXT SECTION</button></a>
  </div>
  <ul>
    <li class="inline">MEGAN COOMER</li>
    <li class="inline">|</li>
    <li class="inline">IMPERIAL COLLEGE</li>
    <li class="inline">|</li>
    <li class="inline"><a href="https://www.w3schools.com/w3css/w3css_templates.asp">W3-SCHOOLS</a></li>
  </ul>
</footer>

<!-- SCRIPT FOR ACCORDION -->
<script>
var acc = document.getElementsByClassName("accordion");
var i;

for (i = 0; i < acc.length; i++) {
    acc[i].addEventListener("click", function() {
        /* Toggle between adding and removing the "active" class,
        to highlight the button that controls the panel */
        this.classList.toggle("active");

        /* Toggle between hiding and showing the active panel */
        var panel = this.nextElementSibling;
        if (panel.style.display === "block") {
            panel.style.display = "none";
        } else {
            panel.style.display = "block";
        }
    });
}
</script>

{% endblock %}
